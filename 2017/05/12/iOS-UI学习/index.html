<html>
<head>
	
	<title>iOS-UI学习</title>
	<meta name="keywords" content="fzb.me,冯宗宝,冯宗宝的blog" />

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
	   <link href="/css/main.css?v=3" rel="stylesheet" type="text/css" />
    
        <script src="/js/util.js"></script>
        <script>
            if(isMobile()) {
                loadjscssfile('../css/mobile.css', 'css');
            } else {
                loadjscssfile('../css/desktop.css', 'css');
            }
        </script> 
    

    <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Atom feed">

    
	<link rel="shortcut icon" type="image/x-icon" href="/p1.png?v=3"/>
    

</head>

<body>


<h2 class="title">iOS-UI学习</h2>
<!---
<div style="text-align:center;margin-top: -10px;">
<div class="article-category">
发表于2017年5月12日


    <a class="article-category-link" href="/categories/UI学习-基础/">UI学习 基础</a>



 </div>
--->
</div>

<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#UI基础-Day1-2"><span class="toc-text">UI基础(Day1-2)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Main-storyBoard的作用基本设置"><span class="toc-text">1.Main.storyBoard的作用基本设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-常用基本控件选择"><span class="toc-text">2.常用基本控件选择</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-ViewController（视图控制器）"><span class="toc-text">3.ViewController（视图控制器）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-控件连线"><span class="toc-text">4.控件连线</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-计算器方法示例"><span class="toc-text">5.计算器方法示例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-UIKit坐标系"><span class="toc-text">6.UIKit坐标系</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-UIView"><span class="toc-text">7.UIView</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-代码形式的添加button，如果想要设置不同形态的样式，需要分别创建"><span class="toc-text">8.代码形式的添加button，如果想要设置不同形态的样式，需要分别创建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-tag属性的使用"><span class="toc-text">9.tag属性的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-transform属性的使用"><span class="toc-text">10.transform属性的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-获取删除子控件"><span class="toc-text">10.获取删除子控件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-设置一个图片浏览器的例子"><span class="toc-text">11.设置一个图片浏览器的例子</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-storyboard控制器"><span class="toc-text">12.storyboard控制器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-程序启动的实质"><span class="toc-text">13.程序启动的实质</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-Bundle和图片放置位置的区别"><span class="toc-text">14.Bundle和图片放置位置的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-Plist配合bundle初始化数组和字典"><span class="toc-text">15.Plist配合bundle初始化数组和字典</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16-使用UIView播放动画"><span class="toc-text">16.使用UIView播放动画</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-iOS开发中内存处理的细节"><span class="toc-text">17.iOS开发中内存处理的细节</span></a></li></ol></li></ol>
<p>UI初步<br><a id="more"></a></p>
<h1 id="UI基础-Day1-2"><a href="#UI基础-Day1-2" class="headerlink" title="UI基础(Day1-2)"></a>UI基础(Day1-2)</h1><p>iOS模拟器:当没有应用设备但是需要测试的时候使用，可以通过菜单栏来进行一些基础操作。</p>
<h2 id="1-Main-storyBoard的作用基本设置"><a href="#1-Main-storyBoard的作用基本设置" class="headerlink" title="1.Main.storyBoard的作用基本设置"></a>1.Main.storyBoard的作用基本设置</h2><blockquote>
<p>改变可视化界面的属性，在右边的菜单栏中进行修改。</p>
<p>在右下角进行对控件的调试</p>
<p>自动布局功能</p>
<p>如果要改变界面的大小点击上方的View Controller</p>
<p>复制控件可以先选中他，然后按住option拖动</p>
<p>当不小心删除了页面之后，可以通过command+z还原</p>
<p>如果想要键盘每次自动弹出，就把hardware中的连接硬件取消掉，只留下虚拟键盘</p>
</blockquote>
<h2 id="2-常用基本控件选择"><a href="#2-常用基本控件选择" class="headerlink" title="2.常用基本控件选择"></a>2.常用基本控件选择</h2><blockquote>
<p>label:单纯显示文字</p>
<p>Button:点击</p>
<p>Text:输入文字</p>
</blockquote>
<h2 id="3-ViewController（视图控制器）"><a href="#3-ViewController（视图控制器）" class="headerlink" title="3.ViewController（视图控制器）"></a>3.ViewController（视图控制器）</h2><blockquote>
<p>管理视图，写代码部分</p>
<p>ViewController里的View是由ViewController管理的</p>
<p>UIView,UIViewController这两个类本身没有关系，UIView的作用是显示,UIViewController中有一个UIView的属性</p>
<p>可以在这里取消自动布局</p>
</blockquote>
<h2 id="4-控件连线"><a href="#4-控件连线" class="headerlink" title="4.控件连线"></a>4.控件连线</h2><blockquote>
<p>右键点击控件，选择触发的事件，注意不同事件的触发效果不同</p>
<p>把代码中的返回值类型中改成IBAction,将它们连线,快速连线可以按住control拖拽来生成新名字的方法。</p>
<p>易错点：当删除方法的时候需要把按钮和方法都删除，不然会报错</p>
<p>如果一个方法只需要点击按钮触发，不需要在其他地方调用，那么不需要在.h中声明，只需要在.m中实现</p>
<p>对于只需要在控制器中使用的控件（属性），我们一般声明在类扩展中，UI控件统统使用weak,UI控件需要连线，也需要添加标识IBOutlet<img src="http://omg5mjb8v.bkt.clouddn.com/8E4C5C77-6CF2-4222-A0A2-C76479B055DA.png" alt=""></p>
<p>一个事件可以和多个控件一起连线</p>
</blockquote>
<h2 id="5-计算器方法示例"><a href="#5-计算器方法示例" class="headerlink" title="5.计算器方法示例"></a>5.计算器方法示例</h2><pre><code class="objective-c">-(IBAction)doSum{
  int num1 = [self.field1.text intValue];
  int num2 = [self.field2.text intValue];
  int sum = num1 + num2;
  self.sumLabel.text = [NSString stringWithFormat:@&quot;%d&quot;, sum];
  //取消焦点，即为在闪烁的光标，每个属性逐一取消
  [self.field1 resignFirstResponder];
  [self.field1 resignFirstResponder];
  //或者直接取消控制器的View编辑状态,推荐使用这种
  [self.view endEditing:YES];
}
</code></pre>
<h2 id="6-UIKit坐标系"><a href="#6-UIKit坐标系" class="headerlink" title="6.UIKit坐标系"></a>6.UIKit坐标系</h2><blockquote>
<p>坐标原点与左上角重合</p>
<p>可以在View里面不断嵌套View子控件，使用相对坐标，坐标只是相对于它的父控件的位置</p>
</blockquote>
<h2 id="7-UIView"><a href="#7-UIView" class="headerlink" title="7.UIView"></a>7.UIView</h2><blockquote>
<p>UI界面上，所有能看到的东西都是UIView</p>
<p>所有的控件都是直接或者间接继承UIView</p>
<p>UIView是一个容器，里面可以添加其他的控件</p>
<p>修改父控件的颜色:sender就是我们点击的那个按钮</p>
<p>superview属性:获取父控件</p>
</blockquote>
<pre><code class="objective-c">//随机颜色获取
-(IBAction)changeFatherViewColor:(UIButton *)sender{
  UIView *fatherview = sender.superview;
  //使用随机数来生成三原色的浓淡程度
  float randomR = arc4random_uniform(255)/255.0;
  float randomG = arc4random_uniform(255)/255.0;
  float randomB = arc4random_uniform(255)/255.0;
  //使用三原色来组合随机颜色
  UIColor *randomcolor = [UIColor colorWithRed:randomR green:randomG blue:randomB alpha:1];
  fatherview.backgroundColor = randomcolor;
}
</code></pre>
<pre><code class="objective-c">//使用代码方式设置控件的位置，不能直接修改控件的Frame属性，可以把Frame属性保存到一个临时变量上修改。
CGRect oldFrame = createview.frame;
oldFrame.origin.x = 10;
createview.frame = oldFrame
</code></pre>
<pre><code class="objective-c">//创建动画方法一：头尾式动画
[UIView beginAnimations:nil context:nil];
//修改动画的各种属性
[UIView setAnimationsDuration:时间 单位：秒];//在多少秒内完成指令
[UIView setAnimationsDelay:时间 单位：秒];//延时的秒数
//关键代码
省略.....
//提交动画
[UIView commitAnimations];
//创建动画方法二：block动画
[UIView animateWithDuration:1 animations:^{
        createview.frame = oldFrame;
    }];
</code></pre>
<pre><code class="objective-c">/*按钮设置的注意点
image属性可以设置按钮的图片，这样设置的图片跟文字平级
设置background图片文字是在图片的后面
按钮有很多种状态，默认是default：可以设置一套样式
点击以后是highlighted，可以设置另一套样式
selected:需要使用代码设置
disabled:禁用状态
／*
图片放置
1.放在项目中
2.放在Assets.xcassets
</code></pre>
<h2 id="8-代码形式的添加button，如果想要设置不同形态的样式，需要分别创建"><a href="#8-代码形式的添加button，如果想要设置不同形态的样式，需要分别创建" class="headerlink" title="8.代码形式的添加button，如果想要设置不同形态的样式，需要分别创建"></a>8.代码形式的添加button，如果想要设置不同形态的样式，需要分别创建</h2><p><img src="http://omg5mjb8v.bkt.clouddn.com/D9EE7EAD-673C-4E4A-95F3-43082AA158A9.png" alt=""></p>
<pre><code class="objective-c">//绑定方法e.g
[btn addTarget:self action:@selector(haha) forControlEvents:UIControlEventTouchUpInside];
</code></pre>
<h2 id="9-tag属性的使用"><a href="#9-tag属性的使用" class="headerlink" title="9.tag属性的使用"></a>9.tag属性的使用</h2><blockquote>
<p>所有直接或者间接继承来自UIView的控件都有一个tag属性</p>
<p>这个属性，只能用来保存一个数字，对空间的外观没有任何影响</p>
<p>可以通过属性来判断控件的类别：sender.tag，可以在main.storyboard里面定义。</p>
</blockquote>
<h2 id="10-transform属性的使用"><a href="#10-transform属性的使用" class="headerlink" title="10.transform属性的使用"></a>10.transform属性的使用</h2><blockquote>
<p>可以使用动画效果</p>
<p>可以用来修改控件的位置，大小，还有空间的旋转</p>
</blockquote>
<pre><code class="objective-c">//使图片进行各种移动实例
#import &quot;ViewController.h&quot;

@interface ViewController ()
@property (weak, nonatomic)IBOutlet UIImageView *imageView;//连接需要操控的图片
@end

@implementation ViewController

-(IBAction)moveimage:(UIButton *)sender{
    CGRect oldframe = self.imageView.frame;
    switch (sender.tag) {
        case 1:
            oldframe.origin.x += 10;
            break;
        case 2:
            oldframe.origin.y +=10;
            break;
        case 3:
            oldframe.origin.x -= 10;
            break;
        case 4:
            oldframe.origin.y -= 10;
            break;
        case 5:
            oldframe.size.height += 10;//使图片进行整体放大，画面感更好
            oldframe.size.width += 10;
            oldframe.origin.x -= 5;
            oldframe.origin.y -= 5;
            break;
        case 6:
            oldframe.size.height -= 10;
            oldframe.size.width -= 10;
            oldframe.origin.x += 5;
            oldframe.origin.y += 5;
            break;
    }
    [UIView animateWithDuration:0.3 animations:^{
        self.imageView.frame = oldframe;
    }];
}
-(IBAction)transformimageView:(UIButton *)sender{
  self.imageView.transform = CGAffineTransformMakeRotation(M_PI);
  //M_PI是代表派，M_PI_2代表二分之派，直接创建一个固定的值的transform，如果想要每次都累加，需要使用别的方法。
  self.imageView.transform = CGAffineTransformRotate(self.imageView.transform, M_PI)
  //需要传入一个原始的transform，第二个参数是偏移量，通过正负来处理顺时针和逆时针方向。
}
@end
</code></pre>
<h2 id="10-获取删除子控件"><a href="#10-获取删除子控件" class="headerlink" title="10.获取删除子控件"></a>10.获取删除子控件</h2><blockquote>
<p>通过自身View的subview来获取子控件的属性，通过removeFromSuperview删除</p>
<pre><code class="objective-c">self.whiteview.subviews其实是一个数组，存放的是每一个子控件的信息，可以通过下标来访问，通过removeFromSuperview来删除，删除之后类似于栈数据结构，移除栈顶元素之后自动前补，如果为空继续删除，会进行报错。
</code></pre>
<p>或者通过for循环来删除</p>
<pre><code class="objective-c">//可以把子类对象放到父类类型的变量中
for (UILabel *label in self.whiteview.subviews)
  [label removeFromSuperview];
</code></pre>
<p>删除指定tag的view</p>
<pre><code class="objective-c">[self.whiteview viewWithTag:x]获取下标为x的控件
如果自己的tag和子控件一样，也能够获取到，优先获取父控件，而且如果删除了父控件，那么它所有的子控件都会被删除
</code></pre>
</blockquote>
<h2 id="11-设置一个图片浏览器的例子"><a href="#11-设置一个图片浏览器的例子" class="headerlink" title="11.设置一个图片浏览器的例子"></a>11.设置一个图片浏览器的例子</h2><blockquote>
<p>label属性的设置：lines属性设置为0可以自动换行，高度不够，自动换行也是看不到的</p>
<p>按钮的启用禁用：按钮有一个属性，enabled 如果是yes，就是可以点击，反之亦然。</p>
</blockquote>
<pre><code class="objective-c">#import &quot;ViewController.h&quot;

@interface ViewController ()
@property(assign, nonatomic)int index;
@property (weak, nonatomic) IBOutlet UIImageView *imageview;
@property (weak, nonatomic) IBOutlet UIButton *lastbutton;
@property (weak, nonatomic) IBOutlet UIButton *nextbutton;
@property (weak, nonatomic) IBOutlet UILabel *indexLabel;
@property (weak, nonatomic) IBOutlet UILabel *infoLabel;


@end

@implementation ViewController

- (void)viewDidLoad {
    //当控制器的view和上面的子控件创建完毕之后就会执行这个方法
    [super viewDidLoad];
    self.index = 1;
    self.lastbutton.enabled = NO;
    [self changeImage];
}

- (IBAction)LastButton:(UIButton *)sender {
    self.index--;
    [self changeImage];
    if (self.index==1)
        sender.enabled = NO;
    if (self.index!=1)
        self.nextbutton.enabled = YES;
}
- (IBAction)NextButton:(UIButton *)sender {
    self.index++;
    [self changeImage];
    if (self.index==3)
        sender.enabled = NO;
    if (self.index!=3)
        self.lastbutton.enabled = YES;
}

- (void)changeImage{
    switch (self.index) {
        case 1:
            self.indexLabel.text = @&quot;唔哈哈哈哈&quot;;
            self.infoLabel.text = @&quot;1/3&quot;;
            self.imageview.image = [UIImage imageNamed:@&quot;1.jpeg&quot;];
            break;
        case 2:
            self.indexLabel.text = @&quot;小朋友们，还记得我吗？&quot;;
            self.infoLabel.text = @&quot;2/3&quot;;
            self.imageview.image = [UIImage imageNamed:@&quot;2.jpg&quot;];
            break;
        case 3:
            self.indexLabel.text = @&quot;站住不许走&quot;;
            self.infoLabel.text = @&quot;3/3&quot;;
            self.imageview.image = [UIImage imageNamed:@&quot;3.jpg&quot;];
            break;
            }
}

@end
</code></pre>
<h2 id="12-storyboard控制器"><a href="#12-storyboard控制器" class="headerlink" title="12.storyboard控制器"></a>12.storyboard控制器</h2><blockquote>
<p>main.storyboard里面可以加载多个ViewController,但是程序启动的时候，默认加载的是箭头指向的那个。</p>
<p>可以拖拉箭头或者修改is initial ViewController属性来设置</p>
<p>在storyboard中的控制器，如果想要跟代码建立联系，需要设置CustomClass</p>
<p>storyboard删除之后可以手动创建</p>
<p>如果添加了多个storyboard，默认会找到项目设置中设置的那个</p>
<p>storyboard的实质是一个文本文件，有一定的格式的文件，格式为xml,每一个通过托拉拽的方式添加的控件信息，全部以标签的形式保存在文本中</p>
</blockquote>
<h2 id="13-程序启动的实质"><a href="#13-程序启动的实质" class="headerlink" title="13.程序启动的实质"></a>13.程序启动的实质</h2><p><img src="http://omg5mjb8v.bkt.clouddn.com/CD2ECE37-7AD0-46A2-A03C-B4AF645ADDF9.png" alt=""></p>
<h2 id="14-Bundle和图片放置位置的区别"><a href="#14-Bundle和图片放置位置的区别" class="headerlink" title="14.Bundle和图片放置位置的区别"></a>14.Bundle和图片放置位置的区别</h2><blockquote>
<p>应用程序.app就是bundle</p>
<p>iOS程序打包好之后其实也是xxx.app</p>
<p>通过NSLog(NSHomeDirectory())打印的路径向前移动两个文件夹,bundle中找到相应的app</p>
<p>图片直接放在项目中，在bundle中可以直接看到，放在Assets.xcassets中，打包以后，会加密到Assets.car中，目前为止无法还原出来，更加安全。</p>
<p>NSBundle这个类对应到了当前项目打包以后的xxx.app，使用mainBundle方法可以获取当前应用程序的xx.app。</p>
<pre><code class="objective-c">NSBundle *mainBundle = [NSBundle mainBundle];
NSString *path = [mainBundle pathForResource:@&quot;名字&quot; ofType:@&quot;类型&quot;];
NSString *path = [mainBundle pathForResource:@&quot;名字.类型&quot; ofType:@&quot;nil&quot;];//两种方法都可以，可以直接把后缀名加到名字的后面
NSLog(path);
</code></pre>
<p>bundle中的所有问价全路径都可以通过pathForResource方法来获取</p>
</blockquote>
<h2 id="15-Plist配合bundle初始化数组和字典"><a href="#15-Plist配合bundle初始化数组和字典" class="headerlink" title="15.Plist配合bundle初始化数组和字典"></a>15.Plist配合bundle初始化数组和字典</h2><blockquote>
<p>可以用来保存字典</p>
<p>项目中的plist文件，保存的位置是bundle中</p>
</blockquote>
<pre><code class="objective-c">//首先创建一个plist，在其中添加你需要的键值对，然后通过路径获取plist
NSBundle *mainBundle = [NSBundle mainBundle];
NSString *path = [mainBundle pathForResource:@&quot;xxx.plist&quot; ofType:@&quot;nil&quot;];
//此时通过路径来初始化字典，初始化数组也是同样的方式，也可以在数组里面嵌套字典。
NSDictionary *dict = [NSDictionary dictionaryWithContentOfFile:path];
</code></pre>
<h2 id="16-使用UIView播放动画"><a href="#16-使用UIView播放动画" class="headerlink" title="16.使用UIView播放动画"></a>16.使用UIView播放动画</h2><p><img src="http://omg5mjb8v.bkt.clouddn.com/1CE00FF4-3E56-4EBA-A9A7-EE061640E832.png" alt=""></p>
<h2 id="17-iOS开发中内存处理的细节"><a href="#17-iOS开发中内存处理的细节" class="headerlink" title="17.iOS开发中内存处理的细节"></a>17.iOS开发中内存处理的细节</h2><blockquote>
<p>开发iOS项目，如果app占用内存过大，iOS会发送一个警告给应用程序</p>
<p>程序员可以在警告中释放内存</p>
<p>如果发送了警告以后，app内存占用没有任何改变，就会闪退</p>
<p>主要的优化方法在于方法调用完之后对于内存的释放，如果是释放动画，需要延时释放 ，可以用到performSelector方法。</p>
</blockquote>
<p><img src="http://omg5mjb8v.bkt.clouddn.com/609AABF7-22A8-47B7-964C-E7FDF28BABB9.png" alt=""></p>


<!--<a href="http://yoursite.com/2017/05/12/iOS-UI学习/#disqus_thread" class="article-comment-link">Comments</a>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'undefined'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
-->
<div style="display:none">
<script src="http://s4.cnzz.com/stat.php?id=undefined&web_id=undefined" language="JavaScript"></script>script>
</div>






</body>
</html>