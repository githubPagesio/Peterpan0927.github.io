<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <link rel="canonical" href="www.peterpan980927.cn/2018/04/15/重探OC之Type-Value篇/">
    
    
    <title>重探OC之Type&amp;Value篇 | Peterpan&#39;s Blog | Mind over muscle.</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="keywords" content="Re">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.0.7">
    <script type="text/javascript">
        // Data Center
        var DC = {
            reward:	true,
            lv: JSON.parse('{"enable":true,"app_id":"Ljd6bJFL9N4tWj6WnGcbYUd2-gzGzoHsz","app_key":"xDGMWtxNt0aReJDVkuYmSqBd","icon":true}'),
            v: JSON.parse('{"enable":true,"appid":"Ljd6bJFL9N4tWj6WnGcbYUd2-gzGzoHsz","appkey":"xDGMWtxNt0aReJDVkuYmSqBd","notify":false,"verify":false,"placeholder":"望不吝赐教","avatar":"wavatar"}')
        };
    </script>
    <script type="text/javascript">
        window.lazyScripts=[];
    </script>
</head>


<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/bg.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/miao_icon.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Peter pan</h5>
          <a href="mailto:15d31f644fafee19d219f5d6b9ac590f" title="15d31f644fafee19d219f5d6b9ac590f" class="mail">15d31f644fafee19d219f5d6b9ac590f</a>
        </hgroup>
        
        <ul class="menu-link">
          
              <li>
                <a href="https://github.com/Peterpan0927" target="_blank">
                  <i class="icon icon-lg icon-github"></i>
                </a>
              </li>
            
        </ul>
        
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                HOME
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                TAGS
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                ARCHIVES
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/about"  >
                <i class="icon icon-lg icon-user"></i>
                ABOUT
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/Peterpan0927" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row clearfix">
        <a href="javascript:;" class="header-icon pull-left waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">
            <span>重探OC之Type&amp;Value篇</span>
            
        </div>
        
        <a href="javascript:;" id="site_search_btn" class="header-icon pull-right waves-effect waves-circle waves-light">
            <i class="icon icon-lg icon-search"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">
    <div class="container fade-scale">
        <h1 class="title">重探OC之Type&amp;Value篇</h1>
        <h5 class="subtitle">
            
                <time datetime="2018-04-15T00:42:58.000Z" itemprop="datePublished" class="page-time">
  2018-04-15
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/OC中的类型本质/">OC中的类型本质</a></li></ul>

            
        </h5>
        
    </div>
    

</header>

<div id="site_search">
    <div class="search-title clearfix">
        <span class="pull-left">
          <i class="icon icon-lg icon-search"></i>
        </span>
        <input type="text" id="local-search-input" name="q" results="0" placeholder="search my blog..." class="form-control pull-left"/>
        <a href="javascript:;" class="close pull-right waves-effect waves-circle waves-light">
          <i class="icon icon-lg icon-close"></i>
        </a>
    </div>
    <div id="local-search-result"></div>
</div>


<div class="container body-wrap">
    <article id="post-重探OC之Type-Value篇"
  class="post-article article-type-post fade" itemprop="blogPost">
    <div class="post-card">
        <h1 class="post-card-title">重探OC之Type&Value篇</h1>
        <div class="post-meta">
            <time class="post-time" title="2018-04-15 08:42:58" datetime="2018-04-15T00:42:58.000Z"  itemprop="datePublished">2018-04-15</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/OC中的类型本质/">OC中的类型本质</a></li></ul>



            
	<span id="/2018/04/15/重探OC之Type-Value篇/" class="leancloud_visitors" data-flag-title="重探OC之Type&Value篇" title="重探OC之Type&Value篇">
		
			<i class="icon icon-eye"></i>
		
		<span class="leancloud-visitors-count"></span>
	</span>
 

            
    <span>
        <i class="icon icon-comment-o"></i>
        <a href="/2018/04/15/重探OC之Type-Value篇/#comment">
            <span class="valine-comment-count" data-xid="/2018/04/15/重探OC之Type-Value篇/"></span>
        </a>
    </span>


            
        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>学过汇编的同学都知道所谓的变量只是一段存储在内存空间中的数据，而它到底是什么类型取决于我们到底以什么样的角度去看他，那么在OC中，这些变量和值又是如何评判的，又是以什么样的方式进行着转换</p>
<a id="more"></a>
<h1 id="type和value的本质"><a class="markdownIt-Anchor" href="#type和value的本质"></a> Type和value的本质</h1>
<p>类型其实是个很虚的东西，因为这个东西的价值被我们人为赋予的，打个比方，如果我们大家都认为香奈儿值钱，那么它就值钱，如果大家都不用这个，那么它本身就是没有价值的。其实从头到尾这个物品的本身都没有改变过，只是我们看它的方式不同，同样，类型也是一样的：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> c=<span class="number">3</span>;</div><div class="line"><span class="keyword">char</span> a=(<span class="keyword">char</span>)c;</div></pre></td></tr></table></figure>
<p>这个C语言中的强制类型转换从高层语言上来说是从一种类型转换成一种类型，那么底层是什么样的呢，首先我们从x86_64的汇编来一窥究竟：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">movl $123, -4(%rbp)</div><div class="line">movl -4(%rbp), %eax</div><div class="line">movb %al, %cl</div><div class="line">movb %cl, -5(%rbp)</div></pre></td></tr></table></figure>
<p>这段汇编代码还是很好懂的，首先我们将立即数转移到栈基址寄存器下4字节，这条指令中出现的 <code>movl</code> 表示按低 32 位的长度来拷贝（也就是一个 int 的长度），与之相似的还有 8 位的 <code>movb</code>（char）、16 位的 <code>movw</code> (short)、64 位的 <code>movq</code> (long in 64) 等；<code>$123</code> 即字面常量值；<code>-4(%rbp)</code> 代表 base pointer - 栈基地址寄存器，偏移 4 字节的位置。这个指令执行后内存如下所示：</p>
<figure class="image-box">
                <img src="http://omunhj2f1.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-04-15%20%E4%B8%8B%E5%8D%886.47.33.png" alt="int型" title="" class="">
                <p>int型</p>
            </figure>
<p>然后我们将这个数转移到<code>eax</code>寄存器中，然后将低八位也就是代表着<code>char</code>类型的数据转移到<code>ecx</code>寄存器的低八位，最后将这个<code>char</code>类型的数据转移到栈基地址偏移5字节的位置处，这个时候内存图就是：</p>
<figure class="image-box">
                <img src="http://omunhj2f1.bkt.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202018-04-15%20%E4%B8%8B%E5%8D%886.50.23.png" alt="强转之后" title="" class="">
                <p>强转之后</p>
            </figure>
<p>对于静态语言来说，可能这个类型就是提供给编译器检查，还包括寄存器选用，栈空间分配等功能，但是对于动态语言来说，这个类型需要保存到进行时，然后在用的时候再进行判断，所以在这里我们就需要引入一个新的概念就是<code>Type Encoding</code></p>
<h1 id="type-encoding"><a class="markdownIt-Anchor" href="#type-encoding"></a> Type Encoding</h1>
<p>首先我们知道OC中的<code>NSValue</code>类是用来存储一个C或者OC数据的容器，它可以保存<code>int</code>、<code>float</code>、<code>pointer</code>等类型的数据，对于它们进行一个封装，其实这个类可以称作是轻量级的包装冠军，因为上一章中我们说过OC是在C的基础上利用<code>SmallTalk</code>的思想的一次拓展，所以那些类其实是就是将C语言中的基础类型包装起来，而<code>NSNumber</code>用来包装的是标量，<code>NSValue</code>则都可以，我个人觉得可以参考一下<code>java</code>中的包装类。</p>
<p>其中<code>NSValue</code>类有一个<code>+valueWithBytes:objCType:</code>方法，它的第二个参数需要用 Objective-C 的编译器指令 <code>@encode()</code> 来创建，比如我们首先来封装一个C语言的<code>int</code>类型，再将它赋值回去打印：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">int b =1;</div><div class="line">int *a=&amp;b;</div><div class="line">NSValue *value = [NSValue valueWithBytes:a objCType:@encode(int)];</div><div class="line">int c;</div><div class="line">[value getValue:&amp;c];</div><div class="line">NSLog(@&quot;%d&quot;,c);</div></pre></td></tr></table></figure>
<p>在这里可以说一个有意思的事情，如果我们是一个<code>char</code>类型的字符串，然后传递是这个字符串本身，然后encode是<code>char *</code>类型，那么它就会当作一个<code>char</code>类型的指针保存，也就是只有四个字节(根据具体系统)，后面的就会丢失，如果要保存完整性，我们就要传递这个字符串的地址，这样再还原的时候相当于是把那个字符串的地址给赋值回去，所以也不会出现什么问题了。</p>
<p><code>@encode</code>是<a href="http://nshipster.com/at-compiler-directives/" target="_blank" rel="external">@编译器指令</a> 之一，返回一个给定类型编码为一种内部表示的字符串（例如，<code>@encode(int)</code>→ <code>i</code>），类似于 ANSI C 的 <code>typeof</code> 操作。苹果的 Objective-C 运行时库内部利用类型编码帮助加快消息分发。</p>
<p>我们可以通过OC的代码来简单演示一下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">#import&lt;Foundation/Foundation.h&gt;</div><div class="line"></div><div class="line">int main()&#123;</div><div class="line">  NSLog(@&quot;int :%s&quot;, @encode(int));</div><div class="line">  NSLog(@&quot;float :%s&quot;, @encode(float));</div><div class="line">  NSLog(@&quot;void :%s&quot;, @encode(void));</div><div class="line">  NSLog(@&quot;BOOL :%s&quot;, @encode(bool));</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>输出结果为:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">2018-04-15 09:00:34.241 a.out[30083:7960588] int :i</div><div class="line">2018-04-15 09:00:34.241 a.out[30083:7960588] float :f</div><div class="line">2018-04-15 09:00:34.241 a.out[30083:7960588] void :v</div><div class="line">2018-04-15 09:00:34.241 a.out[30083:7960588] BOOL :B</div></pre></td></tr></table></figure>
<p>其实类型编码的实质就是将一种类型的结构转换为精炼的表示，<code>NSValue</code>用类型编码创建必要的数据结构来在内部表示这些值，比如说我们存储一个结构体就变的非常的简洁：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">typedef struct example&#123;</div><div class="line">  id anObject;</div><div class="line">  char *aString;</div><div class="line">  int anInt;</div><div class="line">&#125;Example;</div><div class="line">//那么编码就可以表示成</div><div class="line">&#123;example=@*i&#125;</div></pre></td></tr></table></figure>
<p>然而，对于动态语言，Type 不仅在编译期起到上述作用，<strong>还需要保留到运行时，让动态调用得以实现</strong>，被称作 <code>Type Encodings</code>，对于 Objective-C 所有 Type 的编码，都可以在<a href="https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/ObjCRuntimeGuide/Articles/ocrtTypeEncodings.html" target="_blank" rel="external">这个官方文档</a>中查到，里面的编码和用 <code>@encode()</code> 生成的一致，比如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">@encode(int) =&gt; &quot;i&quot;</div><div class="line">@encode(float) =&gt; &quot;f&quot;</div><div class="line">@encode(id) =&gt; &quot;@&quot;</div><div class="line">@encode(SEL) =&gt; &quot;:&quot;</div><div class="line">@encode(CGRect) =&gt; &quot;&#123;CGRect=&#123;CGPoint=dd&#125;&#123;CGSize=dd&#125;&#125;&quot; // 64</div></pre></td></tr></table></figure>
<p>Objective-C Class 中每个实例变量的 Type 信息全部被编码，Runtime 也提供了 <code>ivar_getTypeEncoding</code> 来访问。<br>
同时，为支持消息的转发和动态调用，Objective-C Method 的 Type 信息也被以 “返回值 Type + 参数 Types” 的形式<strong>组合编码</strong>，还需要考虑到 <code>self</code> 和 <code>_cmd</code> 这两个隐含参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">- (void)foo; =&gt; &quot;v@:&quot;</div><div class="line">- (int)barWithBaz:(double)baz; =&gt; &quot;iv@:d&quot;</div></pre></td></tr></table></figure>
<blockquote>
<p>注：上面的方法的 Encoding 使用新的格式，旧的格式中包含调用栈大小和布局信息，如 <code>i24@0:8i16i20</code>，表示调用栈帧共 24 字节大小，后面每个参数跟着的数字表示该参数在调用栈的偏移值，在 x86_64 和 ARM 成为主流后，调用的 Calling Conventions 发生巨大变化，开始借助寄存器传参，所以在“参数压栈”时代的这种编码方式逐渐被废弃。</p>
</blockquote>
<p>方法的编码可以使用 <code>method_getTypeEncoding</code> 获取，在 Cocoa 层，被 <code>NSMethodSignature</code> 封装，并提供了一些便捷的解析方法。</p>
<p>多说一句，纯 Swift 声称自己是静态的语言，因为在编译后，任何结构都会被 <code>Name Mangling</code> 压缩成一个符号，比如下面的方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">class Sark &#123;</div><div class="line">    func foo(bar: Int) -&gt; Int &#123;</div><div class="line">        return bar;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="参考博客"><a class="markdownIt-Anchor" href="#参考博客"></a> 参考博客</h1>
<ul>
<li><a href="http://blog.sunnyxx.com/2016/08/13/reunderstanding-runtime-1/" target="_blank" rel="external">sunny的技术博客</a></li>
<li><a href="http://nshipster.cn/type-encodings/" target="_blank" rel="external">Type Encodings</a></li>
</ul>

        </div>
        
        
<blockquote class="post-copyright">
    <div class="content">
        
<span class="post-time">
    最後更新時間：<time datetime="2018-04-15T15:38:36.014Z" itemprop="dateUpdated">2018-04-15 23:38:36</time>
</span><br>


        
        转载注明出处，原文地址：<a href="/2018/04/15/重探OC之Type-Value篇/" target="_blank" rel="external">http://yoursite.com/2018/04/15/重探OC之Type-Value篇/</a>
        
    </div>
    <footer>
        <a href="http://yoursite.com">
            <img src="/img/miao_icon.jpg" alt="Peter pan">
            Peter pan
        </a>
    </footer>
</blockquote>

        
            <div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>

            
        
        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Re/">Re</a></li></ul>

            <div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://yoursite.com/2018/04/15/重探OC之Type-Value篇/&title=《重探OC之Type&Value篇》 — Peterpan's Blog&pic=http://yoursite.com/img/miao_icon.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://yoursite.com/2018/04/15/重探OC之Type-Value篇/&title=《重探OC之Type&Value篇》 — Peterpan's Blog&source=学过汇编的同学都知道所谓的变量只是一段存储在内存空间中的数据，而它到底是什么类型取决于我们到底以什么样的角度去看他，那么在OC中，这些变量和值又是如何评判..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>

        </div>
        
            
    <div id="comment"></div>


        
    </div>
    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2018/04/16/黑书动态规划习题/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">黑书动态规划习题</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2018/04/13/重探OC之诞生篇/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">重探OC之诞生篇</h4>
      </a>
    </div>
  
</nav>


</article>

    <div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        我们一起来让这个世界有趣一点
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wc.png" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wc.png" data-alipay="/img/123.png">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>

    

</div>

    <aside class="post-widget">
        <nav class="post-toc-wrap" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#type和value的本质"><span class="post-toc-number">1.</span> <span class="post-toc-text"> Type和value的本质</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#type-encoding"><span class="post-toc-number">2.</span> <span class="post-toc-text"> Type Encoding</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#参考博客"><span class="post-toc-number">3.</span> <span class="post-toc-text"> 参考博客</span></a></li></ol>
        </nav>
    </aside>
    
        <footer class="footer">
    
    <div class="top">
        
        
            <p>
    <span>Links：</span>
    
    <span class="blogroll-item">
        <a href="https://www.github.com/Peterpan0927" target="_blank">github</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://bbs.iosre.com" target="_blank">iOSRE</a>
    </span>
    
    <span class="blogroll-item">
        <a href="https://www.coding.net" target="_blank">coding</a>
    </span>
    
</p>

        
    </div>
    
    <div class="bottom">
        <p>
            <span>
                Peter pan &copy; 2017 - 2018
            </span>
        		
           	
            
            
            <span>
	            Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/codefine/hexo-theme-mellow" target="_blank">mellow</a>
            </span>
            
            
            
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://yoursite.com/2018/04/15/重探OC之Type-Value篇/&title=《重探OC之Type&Value篇》 — Peterpan's Blog&pic=http://yoursite.com/img/miao_icon.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://yoursite.com/2018/04/15/重探OC之Type-Value篇/&title=《重探OC之Type&Value篇》 — Peterpan's Blog&source=学过汇编的同学都知道所谓的变量只是一段存储在内存空间中的数据，而它到底是什么类型取决于我们到底以什么样的角度去看他，那么在OC中，这些变量和值又是如何评判..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACJUlEQVR42u3aS26EMBAFwLn/pSfbSAmT9xqIhF2sRglgF4tWf/x6xdf7x/X978n97VOvOy4MDIzHMt4fr6MF2sWSN+f//WV1DAyMDRhHCx/d0z71+Xdy5x+rY2BgYJy4Jwm7bVjHwMDAuDZ0fubNElAMDIw9GXmDLAmUyWc6U+JiYGDsxsibZf//+5b5BgYGxqMY7/K6oyhtg+wvK2JgYCzNuLZNlrxtWKAmxzIwMDA2Y5xpgbVl8Kw8xsDA2JmRh8sE3LbkzrT8MDAw9mQkL0qWPNMLLJ7CwMDYhtG2ydqgORtMRmEXAwNjaUYbtdqweP5YWD3gxMDAWIjRlqCz5dthQF1UY2BgLM3IW/DnS9+2GZenlRgYGDsw2ofzAxlt+ZqPM4cJIgYGxmMZbQqYvDTZYhtki8+KgYGxKKNN72alaVsknxoJYGBgLMoYzhOCYUOU0pX3/1GLY2BgLMFoD4HdB04SzcPAjYGBsTQjb2zlDbLZALJt82FgYOzMmLXPZqVsXuJGnwkDA2MDRnuoIg+LyWCyTRwP81wMDIylGW1TPnp1HDrzQneY4WJgYDyWMStW8yQvJ7UjCgwMjH0Ys8Z9XtzOmnEXbx0DA2MJRt70L0rKOPjOAi4GBsaejFngS0LqrA3X7hYDAwMjae7PMtA8EGNgYGC084SrDo3dOMLEwMBYjtFuIilEk5bc7EgHBgbGboyrErjZVvKy9kzpi4GB8VjGF3D95PMVVmSNAAAAAElFTkSuQmCC" alt="微信分享二维码">
</div>


    
    <!-- main-js -->
<script type="text/javascript" src="//cdn.bootcss.com/jquery/2.0.0/jquery.min.js"></script>
<script type="text/javascript" src="/js/plugins/fastclick.js?v=1.0.7"></script>

<script type="text/javascript" src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>

<script type="text/javascript" src="/js/method.js?v=1.0.7"></script>
<script type="text/javascript" src="/js/blog.js?v=1.0.7"></script>

<!-- third-party -->



<script type="text/javascript" src="/js/plugins/local_search.js?v=1.0.7"></script>
<script type="text/javascript">
	var search_path = "search.xml";
	if (search_path.length === 0) {
		search_path = "search.xml";
	}
	var path = "/" + search_path;
	searchFunc(path, "local-search-input", "local-search-result");
</script>



    
        <script type="text/javascript" src="https://cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script type="text/javascript" src="//unpkg.com/valine/dist/Valine.min.js"></script>
<script type="text/javascript" src="/js/plugins/valine.js?v=1.0.7"></script>
    



<script type="text/javascript" src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
<script type="text/javascript" src="/js/plugins/leancloud_visitors.js?v=1.0.7"></script>



    <!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>




    <script>
    (function() {
        var OriginTitile = document.title, titleTime;
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                document.title = '思维失去连接...';
                clearTimeout(titleTime);
            } else {
                document.title = '(つェ⊂)咦!又好了!';
                titleTime = setTimeout(function() {
                    document.title = OriginTitile;
                },2000);
            }
        });
    })();
</script>


    
</body>
</html>
